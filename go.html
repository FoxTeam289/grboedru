<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Грибные зоны - пойти в лес с Mushfind</title>
    <meta name="description" content="Просмотрите все грибные зоны и используйте наш навигатор, чтобы не заблудиться в лесу. Планируйте свои походы эффективно.">
    <meta name="keywords" content="грибные зоны, навигатор лес, не заблудиться в лесу, поход в лес">
    <link rel="canonical" href="https://mushfind.ru/go.html">
    <meta property="og:title" content="Грибные зоны - Найдите и не заблудитесь в лесу с Mushfind">
    <meta property="og:description" content="Просмотрите все грибные зоны и используйте наш навигатор, чтобы не заблудиться в лесу. Планируйте свои походы эффективно.">
    <meta property="og:url" content="https://mushfind.ru/go.html">
    <link rel="shortcut icon" href="icon.png" type="image/x-icon">
    <link rel="icon" href="icon.png" type="image/png">

    <!-- Yandex.Metrika counter -->
<script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();
    for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
    k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
 
    ym(97708246, "init", {
         clickmap:true,
         trackLinks:true,
         accurateTrackBounce:true,
         webvisor:true,
         ecommerce:"dataLayer"
    });
 </script>
 <noscript><div><img src="https://mc.yandex.ru/watch/97708246" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
 <!-- /Yandex.Metrika counter -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
     <style>
    body {
    font-family: 'Arial', sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden;
}
header {
    background-color: #4CAF50;
    color: white;
    padding: 10px;
    text-align: center;
}
main {
    flex: 1;
    display: flex;
    flex-direction: column;
}
#map {
    flex: 1;
    width: 100%;
}
.controls {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    background-color: #f9f9f9;
    padding: 10px;
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(255, 255, 255, 0.7);
    border-radius: 10px;
    transition: opacity 0.3s ease;
    opacity: 1;
    visibility: visible;
}
.controls button,
.controls select {
    padding: 10px;
    font-size: 14px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    flex: 1 1 45%;
    box-sizing: border-box;
    margin: 5px;
}
.controls button {
    background-color: #4CAF50;
    color: white;
}
.controls button:hover {
    background-color: #45a049;
}
.controls select {
    background-color: white;
    color: #333;
}
.controls select:focus {
    outline: none;
    border: 2px solid #4CAF50;
}
.container2 {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}
.navbar {
    background-color: #4CAF50;
    color: white;
    padding: 10px 0;
    position: fixed;
    width: 100%;
    z-index: 1000;
}

.logo a {
    color: white;
    text-decoration: none;
    font-size: 24px;
}

.menu-btn {
    display: none;
    flex-direction: column;
    cursor: pointer;
}

.menu-btn span {
    background: white;
    height: 3px;
    margin: 5px 0;
    width: 25px;
}

.nav-menu {
    list-style: none;
    display: flex;
    margin: 0;
    padding: 0;
}

.nav-menu li {
    margin-left: 20px;
}

.nav-menu a {
    color: white;
    text-decoration: none;
    font-size: 16px;
}

.nav-menu a:hover {
    text-decoration: underline;
}

/* Responsive Styles */
@media (max-width: 768px) {
    .menu-btn {
        display: flex;
    }

    .nav-menu {
        display: none;
        flex-direction: column;
        width: 100%;
        background-color: #4CAF50;
        position: absolute;
        top: 60px;
        left: 0;
    }

    .nav-menu li {
        text-align: center;
        margin: 10px 0;
    }

    .nav-menu.show {
        display: flex;
    }
}
    .controls {
        flex-direction: column; /* Переключаем на колонну */
        gap: 5px; /* Уменьшаем gap для мобильных устройств */
        padding: 5px; /* Уменьшаем padding для мобильных устройств */
        width: 90%; /* Устанавливаем ширину обертки для кнопок */
        left: 5%; /* Центрируем обертку */
        transform: none; /* Убираем трансформацию */
    }
    .controls button,
    .controls select {
        flex: none; /* Убираем flex-grow и flex-shrink */
        width: 100%; /* Устанавливаем ширину кнопок */
        padding: 8px; /* Уменьшаем padding для кнопок */
        margin: 2px; /* Уменьшаем margin для кнопок */
        font-size: 12px; /* Уменьшаем размер шрифта */
    }
.controls.open {
    opacity: 0;
    visibility: hidden;
}
.controls.hidden {
    opacity: 0;
    visibility: hidden;
}
/* Стиль кнопки */
button {
    background-color: #4CAF50;
    color: white;
    padding: 15px 20px;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    font-size: 16px;
}
button:hover {
    background-color: #45a049;
}
/* Модальное окно */
.modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    animation: fadeIn 0.3s;
}
@keyframes fadeIn {
    from {opacity: 0;}
    to {opacity: 1;}
}
/* Модальное содержимое */
.modal-content {
    background-color: #fff;
    padding: 20px;
    border-radius: 10px;
    width: 400px;
    max-width: 90%;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    animation: slideIn 0.3s;
}
@keyframes slideIn {
    from {transform: translateY(-50px);}
    to {transform: translateY(0);}
}
/* Кнопка закрытия */
.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}
.close:hover,
.close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
}
/* Стиль формы */
form {
    display: flex;
    flex-direction: column;
}
label {
    margin-bottom: 10px;
    font-weight: bold;
}
input[type="text"] {
    padding: 10px;
    margin-bottom: 20px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 16px;
}
input[type="text"]:focus {
    border-color: #4CAF50;
}
form button {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    font-size: 16px;
    align-self: flex-end;
}
form button:hover {
    background-color: #45a049;
}
.panorama-container {
    margin: 20px;
    padding: 10px;
    border: 1px solid #ccc;
    width: 600px;
    max-width: 100%;
}
.panorama-img {
    max-width: 100%;
    height: auto;
}
iframe {
    width: 100%;
    height: 100%;
    border: none;
}
#iframeOverlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    flex-direction: column;
}
#iframeContainer {
    width: 100%;
    height: 90%;
}
#closeIframeBtn {
    padding: 10px 20px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    margin-top: 10px;
}
#closeIframeBtn:hover {
    background-color: #0056b3;
}
#popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1100;
}
#popup-content {
    background-color: white;
    padding: 30px;
    border-radius: 10px;
    text-align: left;
    max-width: 500px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}
#popup-content p {
    margin: 0 0 20px;
    font-size: 16px;
    color: #333;
}
#popup-content ol {
    margin: 0 0 20px;
    padding-left: 20px;
    font-size: 16px;
    color: #333;
}
#close-btn {
    padding: 10px 20px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
}
#close-btn:hover {
    background-color: #0056b3;
}

    </style>
<script src="https://api-maps.yandex.ru/2.1/?apikey=86c4a0b5-0c50-44da-a0d8-a9b213634759&lang=ru_RU" type="text/javascript"></script>
</head>
<body>
    <nav class="navbar">
        <div class="container2">
            <div class="logo">
                <a href="/">Mushfind</a>
            </div>
            <div class="menu-btn" id="menu-btn">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-menu" id="nav-menu">
                <li><a href="/">Главная</a></li>
                <li><a href="/bestforest.html">Лучшие леса</a></li>
                <li><a href="/otziv.html">Написать отзыв</a></li>
                <li><a href="/go.html">Главные функции</a></li>
                <li><a href="/documentation.html">Документация</a></li>
                <li><a href="/forum.html">Соц. сеть</a></li>
            </ul>
        </div>
    </nav>
    <main>
        <div id="map"></div>
        <div id="control" class="controls">
            <button onclick="setUserLocation()"><i class="fas fa-map-marker-alt"></i> Поставить точку там, где я</button>
            <button id="openModalBtn" onclick="setMushroomZone()"><i class="fas fa-map-pin"></i> Поставить грибную зону</button>
            <button onclick="setUserLocation()"><i class="fas fa-location-arrow"></i> Установить мое местоположение</button>
            <select id="forestSelect" onchange="setForestLocation()"></select>
            <button onclick="searchNearbyPanoramas()"><i class="fas fa-street-view"></i> Найти ближайшие панорамы</button>
            <button id="routeBtn" onclick="navigateToCurrentLocation()"><i class="fas fa-route"></i> Построить маршрут к текущему местоположению</button>
            <button id="choose_one" style="display: none;" onclick="voteMushroomZone(true)"><i class="fas fa-thumbs-up"></i> Есть грибы</button>
            <button id="choose_two" style="display: none;" onclick="voteMushroomZone(false)"><i class="fas fa-thumbs-down"></i> Нет грибов</button>
            <button onclick="routeToForest()"><i class="fas fa-tree"></i> Маршрут к выбранному лесу</button>
            <button onclick="window.location.href='foxyprofi.itch.io/griboed'"><i class="fas fa-download"></i> Сохранить изменения</button>
            <button onclick="OpenMapI('https://гдегрибы.рф')"><i class="fas fa-eye"></i>Посмотреть все грибные зоны</button>
            <button id="toggleButton"><i class="fa-solid fa-eye-slash"></i>Скрыть элементы</button>
    </div>
</main>

<div id="iframeOverlay">
    <div id="iframeContainer"></div>
    <button id="closeIframeBtn" onclick="closeIframe()">Закрыть</button>
</div>


</script>
<script>
       document.addEventListener('DOMContentLoaded', function() {
    const menuBtn = document.getElementById('menu-btn');
    const navMenu = document.getElementById('nav-menu');

    menuBtn.addEventListener('click', function() {
        navMenu.classList.toggle('show');
    });
});

      
    </script>
<div id="popup">
    <div id="popup-content">
        <p>Грибные зоны принадлежат сайту гдегрибы.рф. Сайт "Mushfind" не несёт ответственность за актуальность данных у себя на сайте.</p>
        <p><strong>Как добраться до грибной зоны?</strong></p>
        <ol>
            <li>Выберите грибную зону.</li>
            <li>Скопируйте координаты грибной зоны, или приблизительное место грибной зоны.</li>
            <li>Кликните на карту, куда хотите добраться.</li>
        </ol>
        <button id="close-btn">Закрыть</button>
    </div>
</div>

<script>
    function OpenMapI(url) {
            var iframeOverlay = document.getElementById('iframeOverlay');
            var iframeContainer = document.getElementById('iframeContainer');

            // Clear existing content
            iframeContainer.innerHTML = '';

            // If URL is provided, load the iframe
            if (url) {
                var iframe = document.createElement('iframe');
                iframe.src = url;
                iframeContainer.appendChild(iframe);
            }

            // Show the overlay
            iframeOverlay.style.display = 'flex';
        }

        function closeIframe() {
            document.getElementById('iframeOverlay').style.display = 'none';
        }

        function searchNearbyPanoramas() {
            // Get the selected forest index from the dropdown
            var forestIndex = document.getElementById('forestSelect').value;

            // Get the coordinates of the selected forest
            var forestCoords = forests[forestIndex].coords;

            // Clear existing panoramas if any
            clearPanoramas();

            // Search for nearby panoramas around the forest coordinates
            ymaps.panorama.locate(forestCoords).then(function (panoramas) {
                if (panoramas.length > 0) {
                    var panorama = panoramas[0];
                    var iframeOverlay = document.getElementById('iframeOverlay');
                    var iframeContainer = document.getElementById('iframeContainer');

                    // Clear existing content
                    iframeContainer.innerHTML = '';

                    // Create panorama player
                    var player = new ymaps.panorama.Player(iframeContainer, panorama);

                    // Show iframe overlay
                    iframeOverlay.style.display = 'flex';
                } else {
                    alert('Нет панорам в этом месте.');
                }
            }, function (error) {
                // Handle error if panorama search fails
                console.error('Error searching panoramas:', error);
            });
        }

        document.getElementById('close-btn').addEventListener('click', function() {
            document.getElementById('popup').style.display = 'none';
        });
    </script>
   <!-- Модальное окно -->
   <div style="display: none;" id="myModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Введите координаты зоны</h2>
        <form id="coordinatesForm">
            <label for="latitude">Широта:</label>
            <input type="text" id="latitude" name="latitude" required>
            <label for="longitude">Долгота:</label>
            <input type="text" id="longitude" name="longitude" required>
            <button type="submit">Отправить</button>
        </form>
    </div>
</div>
  <!-- Модальное окно -->
  <div style="display: none;" id="myModal2" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal2()">x</span>
        <h2>Оценить грибную зону</h2>
        <label for="zoneName">Название зоны:</label>
        <input type="text" id="zoneName" name="zoneName" required><br><br>

        <label for="rating">Рейтинг:</label>
        <input type="number" id="rating" name="rating" min="1" max="10" required><br><br>

        <button onclick="sendZoneRating()">Отправить оценку</button>
    </div>
</div>

<script>
    // Функция для открытия модального окна
    function openModal2() {
        document.getElementById('myModal2').style.display = 'block';
    }

    // Функция для закрытия модального окна
    function closeModal2() {
        document.getElementById('myModal2').style.display = 'none';
    }

    // Функция для отправки оценки в Telegram
    function sendZoneRating() {
        const zoneName = document.getElementById('zoneName').value;
        const rating = document.getElementById('rating').value;

        // Замените 'YOUR_BOT_TOKEN' на актуальный токен вашего Telegram бота
        const botToken = '7307900933:AAFZWNxqLsJvCmCAJxjVehQU9C9jMI1k78w';
        // Замените 'YOUR_CHAT_ID' на chat_id, куда нужно отправлять сообщения
        const chatId = '7208967084';

        // URL для отправки сообщения через сервис, поддерживающий CORS (например, CORS Anywhere)
        const proxyUrl = 'https://cors-anywhere.herokuapp.com/';
        const telegramApiUrl = `https://api.telegram.org/bot${botToken}/sendMessage`;

        // Текст сообщения для отправки
        const messageText = `Оценка грибной зоны:\n${zoneName}\nРейтинг: ${rating}`;

        // Данные для отправки POST запроса
        const data = {
            chat_id: chatId,
            text: messageText
        };

        // Опции для fetch запроса
        const options = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
        };

        // Отправка POST запроса к API Telegram через сервис, поддерживающий CORS
        fetch(proxyUrl + telegramApiUrl, options)
            .then(response => response.json())
            .then(data => {
                console.log('Message sent successfully:', data);
                alert('Оценка успешно отправлена!');
                closeModal(); // Закрыть модальное окно после успешной отправки
            })
            .catch(error => {
                console.error('Error sending message:', error);
                alert('Произошла ошибка при отправке оценки.');
                closeModal(); // Закрыть модальное окно при ошибке
            });
    }
</script>

<script>
    // Получаем модальное окно
    var modal = document.getElementById("myModal");

    // Получаем кнопку, которая открывает модальное окно
    var btn = document.getElementById("openModalBtn");

    // Получаем элемент <span>, который закрывает модальное окно
    var span = document.getElementsByClassName("close")[0];

    // Когда пользователь нажимает на кнопку, открываем модальное окно
    btn.onclick = function() {
        modal.style.display = "flex";
    }

    // Когда пользователь нажимает на <span> (x), закрываем модальное окно
    span.onclick = function() {
        modal.style.display = "none";
    }

    // Когда пользователь нажимает в любом месте за пределами модального окна, закрываем его
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    // Обрабатываем отправку формы
    document.getElementById("coordinatesForm").onsubmit = function(event) {
        event.preventDefault();
        var latitude = document.getElementById("latitude").value;
        var longitude = document.getElementById("longitude").value;
        sendCoordinatesToTelegram([latitude, longitude]);
        modal.style.display = "none";
    }

    async function sendCoordinatesToTelegram(coords) {
        const telegramToken = '7307900933:AAFZWNxqLsJvCmCAJxjVehQU9C9jMI1k78w';
        const chatId = '7208967084';
        const message = `Грибная зона (На модерации)\nШирота: ${coords[0]}\nДолгота: ${coords[1]}`;

        const telegramUrl = `https://api.telegram.org/bot${telegramToken}/sendMessage`;

        try {
            const response = await fetch(telegramUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: message
                })
            });

            if (!response.ok) {
                throw new Error('Network response was not ok');
            }

            const data = await response.json();
            console.log('Zone sent to Telegram:', data);
        } catch (error) {
            console.error('Error:', error);
        }
    }
</script>
<script>


    var map, userPlacemark, mushroomZonePlacemark, forestPlacemark, targetPlacemark, multiRoute;
     // Данные лесов
     var forests = [
    { name: 'леса городского округа Клин', coords: [56.148798, 36.365382], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'леса городского округа Клин №2', coords: [56.157039, 36.356656], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'леса городского округа Клин №3', coords: [56.156372, 36.359731], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'леса городского округа Клин №4', coords: [56.139209, 36.385806], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Иркутская область', coords: [60.0139, 105.9902], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Красноярский край', coords: [56.4135, 90.0045], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Иркутская область №2', coords: [52.5433, 104.2431], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Республика Саха (Якутия)', coords: [61.6540, 129.7849], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Тверская область', coords: [57.1025, 37.7628], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Новгородская область', coords: [58.7336, 30.8128], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Республика Коми', coords: [62.3166, 50.8778], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Томская область', coords: [56.7614, 84.9351], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Алтайский край', coords: [52.1235, 85.7734], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Тверская область №2', coords: [57.3422, 38.2173], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Хабаровский край', coords: [48.1582, 134.8543], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Калининградская область', coords: [54.8649, 21.0115], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Оренбургская область', coords: [51.9982, 55.8415], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Новосибирская область №2', coords: [55.2750, 82.6378], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Ростовская область', coords: [47.7312, 40.1234], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Самарская область', coords: [53.5674, 50.8931], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Калужская область', coords: [54.2911, 36.7421], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Свердловская область', coords: [57.1443, 61.4012], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Ярославская область', coords: [58.2369, 39.1047], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Московская область', coords: [55.9150, 36.9556], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Тюменская область', coords: [57.5328, 65.8200], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Самарская область №2', coords: [53.1406, 49.7635], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Кировская область', coords: [58.8137, 50.9147], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Московская область №2', coords: [54.9023, 37.9803], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Калининградская область', coords: [54.9362, 20.9182], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Челябинская область', coords: [55.3211, 61.9783], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Саратовская область', coords: [51.6708, 46.4251], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Алтайский край №2', coords: [53.7215, 83.9827], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Владимирская область', coords: [56.4237, 40.5862], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Нижегородская область', coords: [56.5348, 44.7321], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Республика Татарстан', coords: [55.8234, 52.7356], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Пермский край', coords: [58.3021, 56.7348], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Московская область №3', coords: [55.7246, 38.6423], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Ханты-Мансийский автономный округ — Югра', coords: [61.1247, 76.9826], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Республика Карелия', coords: [62.1782, 34.7431], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Республика Бурятия', coords: [52.3210, 107.8452], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Красноярский край №2', coords: [55.9081, 92.5692], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Иркутская область №3', coords: [52.3451, 104.5981], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Республика Бурятия №2', coords: [51.9941, 108.1435], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Камчатский край', coords: [53.6415, 158.8824], rating: 'нет оценок', mushrooms: ['нет оценок'] },
  { name: 'Карпатский национальный природный парк', coords: [48.1553, 24.5033], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Шацкий национальный природный парк', coords: [51.5036, 23.9333], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Черниговский регион (Брянский лес)', coords: [51.4989, 31.2894], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Гомильшанские леса', coords: [49.5646, 36.2735], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Быковнянский лес', coords: [50.4739, 30.6736], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Черкасский лес', coords: [49.4444, 32.0600], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Крымский субсредиземноморский лесной комплекс', coords: [44.9521, 34.1024], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Полесье', coords: [51.0000, 28.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Паннонские смешанные леса', coords: [47.0000, 19.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Лесостепь Восточной Европы', coords: [50.0000, 35.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Буковина', coords: [48.2915, 25.9403], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Житомирский лес', coords: [50.2547, 28.6587], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Винницкий лес', coords: [49.2328, 28.4816], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Одесский лес', coords: [46.4825, 30.7233], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Херсонский лес', coords: [46.6354, 32.6169], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Запорожский лес', coords: [47.8388, 35.1396], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Львовский лес', coords: [49.8397, 24.0297], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Ровенский лес', coords: [50.6199, 26.2516], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Ивано-Франковский лес', coords: [48.9226, 24.7097], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Волынский лес', coords: [50.7472, 25.3254], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Хмельницкий лес', coords: [49.4229, 26.9871], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Кировоградский лес', coords: [48.5079, 32.2623], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Полтавский лес', coords: [49.5883, 34.5514], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Черкасский лес', coords: [49.4444, 32.0600], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Тернопольский лес', coords: [49.5535, 25.5948], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Черновицкий лес', coords: [48.2915, 25.9403], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Сумской лес', coords: [50.9077, 34.7981], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Луганский лес', coords: [48.5740, 39.3078], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Донецкий лес', coords: [48.0159, 37.8029], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Заповедник Аскания-Нова', coords: [46.4589, 33.8695], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Голосеевский', coords: [50.3518, 30.4825], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Киевская область', coords: [50.4501, 30.5234], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Каневский природный заповедник', coords: [49.7444, 31.4553], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Каменные Могилы', coords: [47.0271, 36.1851], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Подольские Товтры', coords: [48.6740, 26.5805], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Святогорский', coords: [49.0275, 37.5696], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Синевир', coords: [48.6178, 23.6986], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Гуцульщина', coords: [48.3213, 24.5735], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Днестровский каньон', coords: [48.6497, 25.6340], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Галицкий', coords: [49.1341, 24.7343], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Вижницкий', coords: [48.2638, 25.1922], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Гомольшанские леса', coords: [49.5646, 36.2735], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Карпатский', coords: [48.1553, 24.5033], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Белобережье Святослава', coords: [46.4846, 31.9919], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Верхнеднепровские леса', coords: [51.4942, 30.7889], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Нижнеднепровский', coords: [46.6354, 32.6169], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Тузловские лиманы', coords: [45.7265, 29.9830], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Бузский гард', coords: [48.0044, 30.4943], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Беловежская пуща', coords: [52.6240, 23.8596], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Меотида', coords: [47.1145, 37.9187], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Пирятинский', coords: [50.2455, 32.3351], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Кремнецкие горы', coords: [50.1058, 25.7328], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Галицкий', coords: [49.1341, 24.7343], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Олешковские пески', coords: [46.4712, 33.0153], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Парк дружбы народов', coords: [50.5184, 30.5655], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный природный парк Припятский', coords: [51.6021, 24.1555], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Белавежская пуща', coords: [52.6240, 23.8596], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Браславские озера', coords: [55.6333, 27.0667], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Нарочанский', coords: [54.8333, 26.7000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Припятский', coords: [52.1167, 27.9333], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Березинский биосферный заповедник', coords: [54.5833, 28.3000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Гомельские леса', coords: [52.4412, 30.9878], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Гродненские леса', coords: [53.6833, 23.8333], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Минские леса', coords: [53.9000, 27.5667], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Витебские леса', coords: [55.1904, 30.2049], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Могилевские леса', coords: [53.9167, 30.3449], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Борисовские леса', coords: [54.2242, 28.4924], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Лида лес', coords: [53.8833, 25.3000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Ивацевичи лес', coords: [52.7000, 25.3000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Мозырь лес', coords: [52.0500, 29.2000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Орша лес', coords: [54.5000, 30.4000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Пинск лес', coords: [52.1167, 26.1000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Полоцк лес', coords: [55.4833, 28.8000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Брестский лес', coords: [52.1000, 23.7000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Речица лес', coords: [52.4000, 30.4000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Слуцк лес', coords: [53.0333, 27.5667], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Солигорск лес', coords: [52.7833, 27.5333], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Жлобин лес', coords: [52.8833, 30.0333], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Новополоцк лес', coords: [55.5333, 28.6500], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Лунин лес', coords: [52.2500, 24.8333], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Каменецкий лес', coords: [52.4167, 23.8167], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Калинковичи лес', coords: [52.1333, 29.3333], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Микашевичи лес', coords: [52.2167, 27.4500], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Малорита лес', coords: [51.7833, 24.0833], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Лельчицы лес', coords: [51.7833, 27.5667], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Горки лес', coords: [54.2833, 30.9833], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Мстиславль лес', coords: [54.0167, 31.7167], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Малая Берестовица лес', coords: [53.2833, 24.0167], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Микашевичи лес', coords: [52.2167, 27.4500], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Житковичи лес', coords: [52.2167, 27.8500], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Клецк лес', coords: [53.0667, 26.6333], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Малорита лес', coords: [51.7833, 24.0833], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Лельчицы лес', coords: [51.7833, 27.5667], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Горки лес', coords: [54.2833, 30.9833], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Мстиславль лес', coords: [54.0167, 31.7167], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Малая Берестовица лес', coords: [53.2833, 24.0167], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Микашевичи лес', coords: [52.2167, 27.4500], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Житковичи лес', coords: [52.2167, 27.8500], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Клецк лес', coords: [53.0667, 26.6333], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Малорита лес', coords: [51.7833, 24.0833], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Лельчицы лес', coords: [51.7833, 27.5667], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Горки лес', coords: [54.2833, 30.9833], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Мстиславль лес', coords: [54.0167, 31.7167], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Малая Берестовица лес', coords: [53.2833, 24.0167], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Микашевичи лес', coords: [52.2167, 27.4500], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Житковичи лес', coords: [52.2167, 27.8500], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Алматинский заповедник', coords: [43.2370, 77.0406], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Кокшетауский национальный парк', coords: [53.2833, 69.4000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Бурабайский национальный парк', coords: [53.0864, 70.3181], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Катон-Карагайский национальный парк', coords: [49.1535, 85.6003], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Курчумский лес', coords: [49.7500, 84.5000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Алтын-Эмель', coords: [44.6600, 78.6000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Чарын', coords: [43.3520, 79.0660], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Иле-Алатау', coords: [43.2220, 76.8512], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Көлсай көлдері', coords: [42.9378, 78.4346], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Каратау', coords: [43.1667, 69.7500], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Жонгар-Алатау', coords: [45.0000, 80.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Сайрам-Угам', coords: [42.3833, 70.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Улытау', coords: [48.6667, 66.6667], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Аксу-Жабаглы', coords: [42.4000, 70.5000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Баянаул', coords: [50.7833, 75.6667], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Көкшетау', coords: [53.2000, 69.4167], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Кокшетауский', coords: [53.2000, 69.4167], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Бурундай', coords: [43.3000, 77.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Южный Алтай', coords: [49.0000, 86.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Северный Каспий', coords: [45.0000, 51.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Восточный Казахстан', coords: [49.0000, 84.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Западный Казахстан', coords: [50.0000, 54.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Центральный Казахстан', coords: [48.0000, 73.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Южный Казахстан', coords: [42.0000, 69.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Северный Казахстан', coords: [53.0000, 69.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Западно-Казахстанский', coords: [50.0000, 54.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Восточно-Казахстанский', coords: [49.0000, 84.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Центрально-Казахстанский', coords: [48.0000, 73.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Южно-Казахстанский', coords: [42.0000, 69.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Северо-Казахстанский', coords: [53.0000, 69.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Западно-Алтайский', coords: [49.0000, 84.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Восточно-Алтайский', coords: [49.0000, 84.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Северо-Алтайский', coords: [49.0000, 84.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Южно-Алтайский', coords: [49.0000, 84.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Центрально-Алтайский', coords: [49.0000, 84.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Северо-Каспийский', coords: [45.0000, 51.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Южно-Каспийский', coords: [45.0000, 51.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Центрально-Каспийский', coords: [45.0000, 51.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Северо-Западный Казахстан', coords: [50.0000, 54.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Юго-Западный Казахстан', coords: [42.0000, 69.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Центрально-Западный Казахстан', coords: [48.0000, 73.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Северо-Восточный Казахстан', coords: [49.0000, 84.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Юго-Восточный Казахстан', coords: [42.0000, 69.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Центрально-Восточный Казахстан', coords: [48.0000, 73.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Северо-Центральный Казахстан', coords: [53.0000, 69.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Национальный парк Юго-Центральный Казахстан', coords: [42.0000, 69.0000], rating: 'нет оценок', mushrooms: ['нет оценок'] },
    { name: 'Tongass National Forest', coords: [56.0000, -133.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Chugach National Forest', coords: [60.0000, -147.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Salmon-Challis National Forest', coords: [45.0000, -114.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Sawtooth National Forest', coords: [43.5000, -114.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Boise National Forest', coords: [44.0000, -115.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Caribou-Targhee National Forest', coords: [43.3000, -111.2000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Clearwater National Forest', coords: [46.5000, -115.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Idaho Panhandle National Forest', coords: [48.0000, -116.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Nez Perce National Forest', coords: [45.5000, -116.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Payette National Forest', coords: [45.2000, -116.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Bitterroot National Forest', coords: [46.2000, -114.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Flathead National Forest', coords: [48.0000, -113.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Custer National Forest', coords: [45.0000, -106.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Gallatin National Forest', coords: [45.0000, -111.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Helena National Forest', coords: [46.5000, -112.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Kootenai National Forest', coords: [48.5000, -115.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Lewis and Clark National Forest', coords: [47.0000, -111.2000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Lolo National Forest', coords: [47.0000, -115.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Beaverhead-Deerlodge National Forest', coords: [45.5000, -113.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Arapaho National Forest', coords: [39.7000, -106.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Grand Mesa National Forest', coords: [39.0000, -107.8000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Gunnison National Forest', coords: [38.5000, -107.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Pike National Forest', coords: [39.0000, -105.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Rio Grande National Forest', coords: [37.5000, -106.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Routt National Forest', coords: [40.0000, -106.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'San Isabel National Forest', coords: [38.0000, -106.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'San Juan National Forest', coords: [37.5000, -107.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Uncompahgre National Forest', coords: [38.2000, -108.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'White River National Forest', coords: [39.5000, -107.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Apache-Sitgreaves National Forest', coords: [34.0000, -109.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Coconino National Forest', coords: [35.0000, -111.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Coronado National Forest', coords: [32.5000, -110.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Kaibab National Forest', coords: [36.0000, -112.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Prescott National Forest', coords: [34.5000, -112.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Tonto National Forest', coords: [34.0000, -111.3000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Angeles National Forest', coords: [34.5000, -118.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Cleveland National Forest', coords: [33.5000, -116.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Eldorado National Forest', coords: [38.9000, -120.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Inyo National Forest', coords: [37.5000, -118.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Klamath National Forest', coords: [41.5000, -123.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Lassen National Forest', coords: [40.5000, -121.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Los Padres National Forest', coords: [34.5000, -119.8000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Mendocino National Forest', coords: [39.5000, -122.8000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Modoc National Forest', coords: [41.5000, -121.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Plumas National Forest', coords: [40.0000, -120.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'San Bernardino National Forest', coords: [34.2000, -116.9000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Sequoia National Forest', coords: [36.0000, -118.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Shasta-Trinity National Forest', coords: [40.8000, -122.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Sierra National Forest', coords: [37.0000, -119.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Six Rivers National Forest', coords: [41.5000, -123.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Stanislaus National Forest', coords: [38.0000, -120.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Tahoe National Forest', coords: [39.5000, -120.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'White Mountain National Forest', coords: [44.0000, -71.5000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: 'Chequamegon-Nicolet National Forest', coords: [45.5000, -90.0000], rating: 'no ratings', mushrooms: ['no ratings'] },
    { name: '张家界国家森林公园', coords: [29.1179, 110.4792], rating: '无评分', mushrooms: ['无评分'] },
    { name: '黄山国家森林公园', coords: [30.1313, 118.1665], rating: '无评分', mushrooms: ['无评分'] },
    { name: '九寨沟国家森林公园', coords: [33.2521, 104.2383], rating: '无评分', mushrooms: ['无评分'] },
    { name: '峨眉山国家森林公园', coords: [29.5583, 103.7696], rating: '无评分', mushrooms: ['无评分'] },
    { name: '莫干山国家森林公园', coords: [30.6322, 119.8498], rating: '无评分', mushrooms: ['无评分'] },
    { name: '神农架国家森林公园', coords: [31.4709, 110.3058], rating: '无评分', mushrooms: ['无评分'] },
    { name: '梵净山国家森林公园', coords: [27.9200, 108.6822], rating: '无评分', mushrooms: ['无评分'] },
    { name: '四姑娘山国家森林公园', coords: [31.0951, 102.8793], rating: '无评分', mushrooms: ['无评分'] },
    { name: '天目山国家森林公园', coords: [30.3516, 119.4408], rating: '无评分', mushrooms: ['无评分'] },
    { name: '武夷山国家森林公园', coords: [27.7566, 117.6800], rating: '无评分', mushrooms: ['无评分'] },
    { name: '天柱山国家森林公园', coords: [30.6886, 116.4898], rating: '无评分', mushrooms: ['无评分'] },
    { name: '武陵源国家森林公园', coords: [29.3476, 110.5516], rating: '无评分', mushrooms: ['无评分'] },
    { name: '喀纳斯国家森林公园', coords: [48.7500, 86.3667], rating: '无评分', mushrooms: ['无评分'] },
    { name: '大兴安岭国家森林公园', coords: [52.7666, 122.0303], rating: '无评分', mushrooms: ['无评分'] },
    { name: '长白山国家森林公园', coords: [42.0000, 127.5000], rating: '无评分', mushrooms: ['无评分'] },
    { name: '太白山国家森林公园', coords: [34.0000, 107.7500], rating: '无评分', mushrooms: ['无评分'] },
    { name: '神农顶国家森林公园', coords: [31.5000, 110.5000], rating: '无评分', mushrooms: ['无评分'] },
    { name: '五台山国家森林公园', coords: [38.9954, 113.5936], rating: '无评分', mushrooms: ['无评分'] },
    { name: '五峰山国家森林公园', coords: [30.2000, 110.5333], rating: '无评分', mushrooms: ['无评分'] },
    { name: '阿尔山国家森林公园', coords: [47.1833, 119.9333], rating: '无评分', mushrooms: ['无评分'] },
    { name: '神农架国家森林公园', coords: [31.4709, 110.3058], rating: '无评分', mushrooms: ['无评分'] },
    { name: '崂山国家森林公园', coords: [36.1603, 120.4961], rating: '无评分', mushrooms: ['无评分'] },
    { name: '黄果树国家森林公园', coords: [25.9833, 105.6667], rating: '无评分', mushrooms: ['无评分'] },
    { name: '武当山国家森林公园', coords: [32.5000, 111.0000], rating: '无评分', mushrooms: ['无评分'] },
    { name: '黄龙国家森林公园', coords: [32.8333, 103.8333], rating: '无评分', mushrooms: ['无评分'] },
    { name: '太行山国家森林公园', coords: [36.0000, 113.5000], rating: '无评分', mushrooms: ['无评分'] },
    { name: '天山国家森林公园', coords: [43.5000, 89.5000], rating: '无评分', mushrooms: ['无评分'] },
    { name: '长江三峡国家森林公园', coords: [30.8233, 111.0030], rating: '无评分', mushrooms: ['无评分'] },
    { name: '武功山国家森林公园', coords: [27.5333, 114.1333], rating: '无评分', mushrooms: ['无评分'] },
    { name: '大别山国家森林公园', coords: [31.3333, 115.3333], rating: '无评分', mushrooms: ['无评分'] },
    { name: '普陀山国家森林公园', coords: [30.0000, 122.4000], rating: '无评分', mushrooms: ['无评分'] },
    { name: '天柱山国家森林公园', coords: [30.6886, 116.4898], rating: '无评分', mushrooms: ['无评分'] },
    { name: '五指山国家森林公园', coords: [18.7751, 109.5158], rating: '无评分', mushrooms: ['无评分'] },
    { name: '庐山国家森林公园', coords: [29.5800, 116.0000], rating: '无评分', mushrooms: ['无评分'] },
    { name: '雾灵山国家森林公园', coords: [40.5833, 117.5000], rating: '无评分', mushrooms: ['无评分'] },
    { name: '石林国家森林公园', coords: [24.8227, 103.3329], rating: '无评分', mushrooms: ['无评分'] },
    { name: '太行山国家森林公园', coords: [36.0000, 113.5000], rating: '无评分', mushrooms: ['无评分'] },
    { name: '五大连池国家森林公园', coords: [48.5167, 126.2000], rating: '无评分', mushrooms: ['无评分'] },
    { name: '五台山国家森林公园', coords: [38.9954, 113.5936], rating: '无评分', mushrooms: ['无评分'] },
    { name: '阿里山国家森林公园', coords: [23.5167, 120.8000], rating: '无评分', mushrooms: ['无评分'] },
    { name: '太白山国家森林公园', coords: [34.0000, 107.7500], rating: '无评分', mushrooms: ['无评分'] },
    { name: '三清山国家森林公园', coords: [28.9333, 118.1667], rating: '无评分', mushrooms: ['无评分'] },
    { name: '大别山国家森林公园', coords: [31.3333, 115.3333], rating: '无评分', mushrooms: ['无评分'] },
    { name: '崂山国家森林公园', coords: [36.1603, 120.4961], rating: '无评分', mushrooms: ['无评分'] },
    { name: '庐山国家森林公园', coords: [29.5800, 116.0000], rating: '无评分', mushrooms: ['无评分'] },
    { name: '莫干山国家森林公园', coords: [30.6322, 119.8498], rating: '无评分', mushrooms: ['无评分'] },
    { name: '喀纳斯国家森林公园', coords: [48.7500, 86.3667], rating: '无评分', mushrooms: ['无评分'] },
    { name: '天山国家森林公园', coords: [43.5000, 89.5000], rating: '无评分', mushrooms: ['无评分'] },
    { name: '五指山国家森林公园', coords: [18.7751, 109.5158], rating: '无评分', mushrooms: ['无评分'] },
    { name: '普陀山国家森林公园', coords: [30.0000, 122.4000], rating: '无评分', mushrooms: ['无评分'] }
];

var mushroomZones = [
    {
        "name": "Боровые леса Подмосковья",
        "latitude": 55.500,
        "longitude": 37.000,
        "review": 8.0
    },
    {
        "name": "Леса Карелии",
        "latitude": 62.000,
        "longitude": 32.000,
        "review": 8.0
    },
    {
        "name": "Тайга Красноярского края",
        "latitude": 56.010,
        "longitude": 92.872,
        "review": 8.5
    },
    {
        "name": "Леса Алтая",
        "latitude": 51.475,
        "longitude": 85.008,
        "review": 8.0
    },
    {
        "name": "Леса Ханты-Мансийского автономного округа",
        "latitude": 60.000,
        "longitude": 70.000,
        "review": 8.0
    },
    {
        "name": "Тайга на Камчатке",
        "latitude": 56.132,
        "longitude": 158.618,
        "review": 8.5
    },
    {
        "name": "Леса Приамурья",
        "latitude": 50.000,
        "longitude": 128.000,
        "review": 7.5
    },
    {
        "name": "Леса Чукотки",
        "latitude": 66.000,
        "longitude": 170.000,
        "review": 7.0
    },
    {
        "name": "Тайга Якутии",
        "latitude": 63.000,
        "longitude": 129.000,
        "review": 7.5
    },
    {
        "name": "Бор на Саянах",
        "latitude": 53.431,
        "longitude": 91.021,
        "review": 7.0
    },
    {
        "name": "Леса Пермского края",
        "latitude": 58.000,
        "longitude": 56.000,
        "review": 7.5
    },
    {
        "name": "Грибная зона",
        "latitude": 47.735195,
        "longitude": 25.654194,
        "review": 9.5
    },
    {
        "name": "Грибная зона",
        "latitude": 47.787216,
        "longitude": 25.689701,
        "review": 9.5
    },
    {
        "name": "Грибная зона",
        "latitude": 47.799820,
        "longitude": 25.637493,
        "review": 9.5
    },
    {
        "name": "Грибная зона",
        "latitude": 55.902607,
        "longitude": 37.483002,
        "review": 9.0
    },
    {
        "name": "Минская область",
        "latitude": 53.902,
        "longitude": 27.562,
        "review": 5.0
    },
    {
        "name": "Брестская область",
        "latitude": 52.097,
        "longitude": 23.734,
        "review": 5.0
    },
    {
        "name": "Витебская область",
        "latitude": 55.184,
        "longitude": 30.204,
        "review": 5.5
    },
    {
        "name": "Могилевская область",
        "latitude": 53.894,
        "longitude": 30.331,
        "review": 5.0
    },
    {
        "name": "Гомельская область",
        "latitude": 52.434,
        "longitude": 30.975,
        "review": 5.0
    },
    {
        "name": "Гродненская область",
        "latitude": 53.688,
        "longitude": 23.825,
        "review": 5.5
    },
    {
        "name": "Киевская область, Бородянка",
        "latitude": 50.6395,
        "longitude": 29.9183,
        "review": 6.0
    },
    {
        "name": "Киевская область, Вышгород",
        "latitude": 50.5838,
        "longitude": 30.4898,
        "review": 6.0
    },
    {
        "name": "Окрестности озера Синевир",
        "latitude": 48.6222,
        "longitude": 23.6697,
        "review": 5.0
    },
    {
        "name": "Львовская область, Лумшоры",
        "latitude": 48.6345,
        "longitude": 22.9021,
        "review": 5.0
    },
    {
        "name": "Харьковская область",
        "latitude": 49.9935,
        "longitude": 36.2304,
        "review": 5.0
    },
    {
        "name": "Днепропетровская область",
        "latitude": 48.4647,
        "longitude": 35.0462,
        "review": 5.0
    },
    {
        "name": "Закарпатская область",
        "latitude": 48.6208,
        "longitude": 22.2879,
        "review": 5.0
    },
    {
        "name": "Одесская область",
        "latitude": 46.4825,
        "longitude": 30.7233,
        "review": 5.0
    },
    {
        "name": "Луганская область",
        "latitude": 48.5740,
        "longitude": 39.3078,
        "review": 5.0
    },
    {
        "name": "Винницкая область",
        "latitude": 49.2328,
        "longitude": 28.4690,
        "review": 5.0
    },
    {
        "name": "Hoh Rain Forest",
        "latitude": 47.8605,
        "longitude": -123.9345,
        "review": 9.0
    },
    {
        "name": "Lake Quinault",
        "latitude": 47.4685,
        "longitude": -123.8844,
        "review": 9.0
    },
    {
        "name": "Zigzag Mountain",
        "latitude": 45.3425,
        "longitude": -121.9702,
        "review": 8.5
    },
    {
        "name": "Salmon-Huckleberry Wilderness",
        "latitude": 45.2001,
        "longitude": -121.8838,
        "review": 8.5
    },
    {
        "name": "Nelder Grove",
        "latitude": 37.4719,
        "longitude": -119.5887,
        "review": 7.5
    },
    {
        "name": "Dinkey Lakes Wilderness",
        "latitude": 37.0961,
        "longitude": -119.0884,
        "review": 7.5
    }
];



document.addEventListener('DOMContentLoaded', function() {
            ymaps.ready(init);
            loadZones();
        });

        function init() {
            map = new ymaps.Map('map', {
                center: [55.751574, 37.573856],
                zoom: 10
            });

            forests.forEach(function(forest, index) {
    var placemark = new ymaps.Placemark(forest.coords, { 
        balloonContent: `<b>${forest.name}</b><br>Рейтинг: <span id="forestRating-${index}">${forest.rating}</span><br>Грибы: <span id="forestMushrooms-${index}">${forest.mushrooms.join(', ')}</span>`,
    }, { preset: 'islands#greenForestCircleIcon' });

    map.geoObjects.add(placemark);
});


            var forestSelect = document.getElementById('forestSelect');
            forests.forEach(function(forest, index) {
                var option = document.createElement('option');
                option.value = index;
                option.textContent = forest.name;
                forestSelect.appendChild(option);
            });

            map.events.add('click', function (e) {
                var coords = e.get('coords');
                if (userPlacemark) {
                    if (multiRoute) {
                        map.geoObjects.remove(multiRoute);
                    }
                    multiRoute = new ymaps.multiRouter.MultiRoute({
                        referencePoints: [
                            userPlacemark.geometry.getCoordinates(),
                            coords
                        ],
                        params: {
                            routingMode: 'auto'
                        }
                    }, {
                        boundsAutoApply: true
                    });
                    map.geoObjects.add(multiRoute);
                } else {
                    alert('Ваше местоположение не установлено.');
                }
            });
        }

        function setUserLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    var coords = [position.coords.latitude, position.coords.longitude];
                    if (userPlacemark) {
                        userPlacemark.geometry.setCoordinates(coords);
                    } else {
                        userPlacemark = new ymaps.Placemark(coords, { balloonContent: 'Вы здесь!' }, { preset: 'islands#redIcon' });
                        map.geoObjects.add(userPlacemark);
                    }
                    map.setCenter(coords, 15);
                    userPlacemark.balloon.open();
                });
            } else {
                alert('Геолокация не поддерживается вашим браузером');
            }
        }

    async function sendCoordinatesToTelegram(coords) {
    const telegramToken = '7307900933:AAFZWNxqLsJvCmCAJxjVehQU9C9jMI1k78w';
    const chatId = '7208967084';
    const message = `Грибная зона (На модерации)\nШирота: ${coords[0]}\nДолгота: ${coords[1]}`;

    const telegramUrl = `https://api.telegram.org/bot${telegramToken}/sendMessage`;

    try {
        const response = await fetch(telegramUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                chat_id: chatId,
                text: message
            })
        });

        if (!response.ok) {
            throw new Error('Network response was not ok');
        }

        const data = await response.json();
        console.log('Zone sent to Telegram:', data);
    } catch (error) {
        console.error('Error:', error);
    }
}

function updateBalloonContent(placemark) {
    const positiveVotes = placemark.properties.get('positiveVotes') || 0;
    const negativeVotes = placemark.properties.get('negativeVotes') || 0;
    const balloonContent = `Грибная зона<br>Положительные голоса: ${positiveVotes}<br>Отрицательные голоса: ${negativeVotes}`;
    placemark.properties.set('balloonContent', balloonContent);
}

function setMushroomZone() {
    var coords = map.getCenter();
    if (mushroomZonePlacemark) {
        mushroomZonePlacemark.geometry.setCoordinates(coords);
    } else {
        mushroomZonePlacemark = new ymaps.Placemark(coords, { balloonContent: 'Грибная зона', positiveVotes: 0, negativeVotes: 0 }, { preset: 'islands#yellowIcon' });
        map.geoObjects.add(mushroomZonePlacemark);
        mushroomZones.push(mushroomZonePlacemark);
    }
    updateBalloonContent(mushroomZonePlacemark);
    mushroomZonePlacemark.balloon.open();
    sendCoordinatesToTelegram(coords);
    showChoose();
}


//function searchNearbyPanoramas() {
//    // Get the selected forest index from the dropdown
//    var forestIndex = document.getElementById('forestSelect').value;
    
//    // Get the coordinates of the selected forest
//    var forestCoords = forests[forestIndex].coords;
    
//    // Clear existing panoramas if any
//    clearPanoramas();

//    // Search for nearby panoramas around the forest coordinates
//    ymaps.panorama.locate(forestCoords).then(function (panoramas) {
//        // Panoramas found, iterate over each and display them
//        panoramas.forEach(function (panorama, index) {
 //           // Create a placemark for each panorama
//            var placemark = new ymaps.Placemark(panorama.position, {
//                balloonContentHeader: panorama.name,
 //               balloonContentBody: panorama.description
 //           }, {
 //               preset: 'islands#blueCircleIcon'
 //           });
 //           
 //           // Add the placemark to the map
//            map.geoObjects.add(placemark);
//            
 //           // Optionally, open the balloon of the first panorama
 //           if (index === 0) {
 //               placemark.balloon.open();
//            }
//        });
//        
//        // Optionally, center the map on the first panorama
//        if (panoramas.length > 0) {
//            map.setCenter(panoramas[0].position);
//        }
//    }, function (error) {
//        // Handle error if panorama search fails
//        console.error('Error searching panoramas:', error);
//    });
//}

function clearPanoramas() {
    // Remove all panoramas from the map
    map.geoObjects.each(function (geoObject) {
        if (geoObject instanceof ymaps.Placemark) {
            map.geoObjects.remove(geoObject);
        }
    });
}


    function setForestLocation() {
        var forestIndex = document.getElementById('forestSelect').value;
        var forest = forests[forestIndex];
        if (forestPlacemark) {
            forestPlacemark.geometry.setCoordinates(forest.coords);
            forestPlacemark.properties.set('balloonContent', forest.name);
        } else {
            forestPlacemark = new ymaps.Placemark(forest.coords, { balloonContent: forest.name }, { preset: 'islands#greenIcon' });
            map.geoObjects.add(forestPlacemark);
        }
        map.setCenter(forest.coords, 13);
        forestPlacemark.balloon.open();
    }

    function navigateToCurrentLocation() {
        if (userPlacemark) {
            map.setCenter(userPlacemark.geometry.getCoordinates(), 15);
            userPlacemark.balloon.open();
        } else {
            alert('Ваше местоположение не установлено.');
        }
    }

    function voteMushroomZone(positive) {
        if (mushroomZonePlacemark) {
            if (positive) {
                mushroomZonePlacemark.properties.set('positiveVotes', (mushroomZonePlacemark.properties.get('positiveVotes') || 0) + 1);
            } else {
                mushroomZonePlacemark.properties.set('negativeVotes', (mushroomZonePlacemark.properties.get('negativeVotes') || 0) + 1);
            }
            updateBalloonContent(mushroomZonePlacemark);

            if (mushroomZonePlacemark.properties.get('negativeVotes') >= 5 && mushroomZonePlacemark.properties.get('positiveVotes') < 5) {
                map.geoObjects.remove(mushroomZonePlacemark);
                mushroomZones = mushroomZones.filter(zone => zone !== mushroomZonePlacemark);
            } else if (mushroomZonePlacemark.properties.get('negativeVotes') >= 15 && mushroomZonePlacemark.properties.get('positiveVotes') >= 5) {
                mushroomZonePlacemark.properties.set('deletable', false);
            }

            mushroomZonePlacemark.balloon.open();
        } else {
            alert('Грибная зона не установлена.');
        }
    }

    balloonContent.addEventListener('click', function() {
    showChoose();
});
    function updateBalloonContent(placemark) {
        const positiveVotes = placemark.properties.get('positiveVotes') || 0;
        const negativeVotes = placemark.properties.get('negativeVotes') || 0;
        placemark.properties.set('balloonContent', `Грибная зона<br>Положительные голоса: ${positiveVotes}<br>Отрицательные голоса: ${negativeVotes}`);
            // Добавляем обработчик события клика к balloonContentElement
    balloonContentElement.addEventListener('click', function() {
    });
    }

    function routeToForest() {
        var forestIndex = document.getElementById('forestSelect').value;
        var forest = forests[forestIndex];
        if (userPlacemark) {
            var multiRoute = new ymaps.multiRouter.MultiRoute({
                referencePoints: [
                    userPlacemark.geometry.getCoordinates(),
                    forest.coords
                ],
                params: {
                    routingMode: 'auto'
                }
            }, {
                boundsAutoApply: true
            });
            map.geoObjects.add(multiRoute);
        } else {
            alert('Ваше местоположение не установлено.');
        }
    }

    function toggleMenu() {
    var navElement = document.querySelector('nav');
    var controlsElement = document.getElementById('control');

    navElement.classList.toggle('show-menu');
    controlsElement.classList.toggle('hidden');
}


function loadZones() {
    mushroomZones.forEach(function(zone, index) {
        var placemark = new ymaps.Placemark([zone.latitude, zone.longitude], { 
            balloonContent: `<b>${zone.name}</b><br>Рейтинг: <span id="zoneRating-${index}">${zone.review}</span>`,
        }, { preset: 'islands#violetCircleIcon' });
        map.geoObjects.add(placemark);
    });
}


  //async function saveMushroomZone(coords) {
//const response = await fetch('save_zones.php', {
   // method: 'POST',
    //headers: {
       // 'Content-Type': 'application/json'
    //},
   // body: JSON.stringify({
    //    name: 'Грибная зона',
     //   latitude: coords[0],
     //   longitude: coords[1]
    //})
//});


//if (response.ok) {
   // const data = await response.json();
  //  alert(data.message); // Опционально: вывод сообщения об успешном сохранении
//} else {
  //  alert('Ваша грибная зона сохранена в вашем браузере. При очистке кэша зона сотрётся');
//}
//showChoose();
//}

async function downloadMap() {
if (multiRoute) {
try {
const routes = await multiRoute.getRoutes(); // Получаем маршруты
const routeData = {
type: "FeatureCollection",
features: routes.map(route => ({
type: "Feature",
geometry: {
type: "LineString",
coordinates: route.getPaths().get(0).getCoordinates()
},
properties: {
balloonContent: "Маршрут",
hintContent: "Маршрут"
}
}))
};
        const blob = new Blob([JSON.stringify(routeData)], { type: 'application/json' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = 'route.json';
        link.click();
    } catch (error) {
        console.error('Ошибка при скачивании маршрута:', error);
        alert('Произошла ошибка при скачивании маршрута.');
    }
} else {
    alert('Маршрут не построен.');
}
}

async function loadAllMushroomZones() {
try {
const response = await fetch('http://foxy09rs.beget.tech/zones.json');
if (!response.ok) {
throw new Error('Ошибка загрузки грибных зон: ' + response.statusText);
}
const zones = await response.json();

    zones.forEach(function (zone) {
        var coords = [zone.latitude, zone.longitude];
        var placemark = new ymaps.Placemark(coords, {
            balloonContent: `<strong>Грибная зона: ${zone.name}</strong><br>Широта: ${zone.latitude}<br>Долгота: ${zone.longitude}`
        }, {
            preset: 'islands#yellowIcon'
        });
        map.geoObjects.add(placemark);
    });
} catch (error) {
    console.error('Ошибка при загрузке грибных зон:', error);
    alert('Произошла ошибка при загрузке грибных зон. Попробуйте загрузить их вручную.');
}
}
document.addEventListener('DOMContentLoaded', function() {
    loadMushroomZones();
});


</script>
<script>
    function savePage() {
        // Получаем HTML-код всей страницы
        var htmlContent = document.documentElement.outerHTML;
        
        // Создаем Blob из HTML-кода
        var blob = new Blob([htmlContent], { type: 'text/html' });
        
        // Создаем ссылку для скачивания
        var url = URL.createObjectURL(blob);
        var a = document.createElement('a');
        a.href = url;
        a.download = 'go.php';
        
        // Программно кликаем на ссылку, чтобы начать загрузку
        document.body.appendChild(a);
        a.click();
        
        // Удаляем ссылку из DOM
        document.body.removeChild(a);
    }
    function loadPanoramas(latitude, longitude) {
            var panoramaContainer = document.getElementById('panoramaImages');
            panoramaContainer.innerHTML = ''; // Очищаем контейнер перед загрузкой новых панорам

            var apiUrl = 'https://api.yandex.ru/maps/panoramas/';
            var apiKey = '86c4a0b5-0c50-44da-a0d8-a9b213634759'; // Замените на свой API ключ Яндекс

            // Формируем запрос к API Яндекс Панорам
            fetch(`${apiUrl}?ll=${longitude},${latitude}&size=600,400&z=1&apikey=${apiKey}`)
                .then(response => response.json())
                .then(data => {
                    // Обработка ответа API и отображение панорам
                    if (data.error) {
                        console.error('Ошибка при загрузке панорам:', data.error.message);
                    } else {
                        data.panoramas.forEach(panorama => {
                            var imgElement = document.createElement('img');
                            imgElement.src = panorama.links.fullscreen;
                            imgElement.alt = 'Панорама';
                            imgElement.className = 'panorama-img';
                            panoramaContainer.appendChild(imgElement);
                        });
                    }
                })
                .catch(error => {
                    console.error('Ошибка при загрузке панорам:', error);
                });
        }


// Функция для установки данных о рейтинге и грибах для указанного леса
function setForestData(index, rating, mushrooms) {
    // Проверяем, что переданный индекс существует в массиве forests
    if (index >= 0 && index < forests.length) {
        var forest = forests[index];
        // Устанавливаем рейтинг и список грибов для указанного леса
        document.getElementById(`forestRating-${index}`).innerText = forest.rating;
        document.getElementById(`forestMushrooms-${index}`).innerText = forest.mushrooms.join(', ');
    } else {
        console.error('Invalid index provided:', index);
    }
}

// Функция для установки данных для всех лесов
function setAllForestsData() {
    forests.forEach(function(forest, index) {
        setForestData(index, forest.rating, forest.mushrooms);
    });
}

// Вызов функции для установки данных для всех лесов при загрузке страницы
document.addEventListener('DOMContentLoaded', function() {
    setAllForestsData();
});
</script>
<script>
function showChoose() {
    let choose_one = document.getElementById('choose_one');
    let choose_two = document.getElementById('choose_two');
        choose_one.style.display = 'block';
        choose_two.style.display = 'block';
    };


</script>
</body>
</html>